<!--*******************************************************************************
* Copyright (c) {2024} Contributors to the Eclipse Foundation
*
* See the NOTICE file(s) distributed with this work for additional
* information regarding copyright ownership.
*
* This program and the accompanying materials are made available under the
* terms of the Apache License Version 2.0 which is available at
* https://www.apache.org/licenses/LICENSE-2.0
*
* SPDX-License-Identifier: Apache-2.0
*******************************************************************************-->

@page "/RenderDropdownItems"
@using Microsoft.AspNetCore.Components.Web
@using MW.Blazor
@using AasxIntegrationBase
@using AnyUi
@using System.Globalization;

@if (MenuItems != null)
    foreach (var mi in MenuItems)
        if (mi is AasxMenuItem mii)
        {
            var currMii = mii;
            <a class="dropdown-item" href="#" @onclick="() => ItemClicked(currMii)">
                <span style="display: inline-block; width: 2rem!important; ">@(mii.Icon)</span>
                <span style="text-align: left; ">@(mii.Header)</span>
            </a>
        }

@code {

    [Parameter] public IEnumerable<AasxMenuItemBase> MenuItems { get; set; }

    [Parameter]
    public EventCallback<AasxMenuItem> OnItemSelected { get; set; }

    protected void ItemClicked(AasxMenuItem mii)
    {
        OnItemSelected.InvokeAsync(mii);
    }
}